\documentclass{amsart}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{tikz-cd}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\dprime}{{\prime\prime}}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\interior}{int}

\setlength{\textwidth}{\paperwidth}
\addtolength{\textwidth}{-1.6in}
\setlength{\textheight}{\paperheight}
\addtolength{\textheight}{-1.8in}
\calclayout

\begin{document}	
	We use the following terminology: a \textit{neighborhood} of a point is a set containing an open neighborhood of it.
		
	The following is a modification of a theorem of Wilder.
	
	\begin{lemma} \label{l: wilder}
		Let $X$ be locally compact and Hausdorff and $Y \subseteq X$ compact. Define the following properties:
		\begin{itemize}
			\item[$(r^n)$] If $K$ and $M$ are compact subsets of $X$ with $K \cap Y \subset \interior_Y(M \cap Y)$, then $\im H_n\left(K \cap Y \to M\right)$ is finite.
			\item[$(r^n_\bullet)$] If $V$ is an open neighborhood of $y \in Y$, then there exist $U$ an open neighborhood of $y$ contained in $V$ such that $\im H_n\left(U \cap Y \to V\right)$ is finite.
		\end{itemize}
		Then, $(r^{n-1})$ together with $(r^n_\bullet)$ imply $(r^n)$.
	\end{lemma}
	
	\begin{proof}
		Let $M$ be fixed and let $\sigma$ be the set of compact subsets $K$ with $K \cap Y \subseteq \interior_Y(M \cap Y)$ such that $K$ has a neighborhood $U_K$ in $X$ such that $\im H_n\left(U_K \cap Y \to M\right)$ is finite.
		
		Recall the following fact:
		$(\ast)$ A space $S$ if locally compact and Hausdorff if and only if for every point $p$ of $S$, any neighborhood of $p$ contains a compact neighborhood of $p$.
		
		The collection $\sigma$ is not empty, in fact, it contains a compact neighborhood of any $y \in Y$. This follows from taking $V = X$ in $(r_\bullet^n)$ and using $(\ast)$ on the resulting open neighborhood.
		
		Notice that the collection $\sigma$ is closed under intersections. In fact, a stronger statement holds: if $K_1$ is compact and $K_2 \in \sigma$ then $K_1 \cap K_2 \in \sigma$. This is a consequence of the fact that the image of a map is finite can be deduced from that property holding for any map that factors it. We will next show that $\sigma$ is also closed under finite unions.
		
		For $i \in \{1, 2\}$ consider $K_i \in \sigma$ and let $K_i^\prime$ and $K_i^\dprime$ be compact neighborhoods of $K_i$ such that
		\begin{equation*}
		K_i \subseteq K_i^\dprime \subseteq \interior K_i^\prime \subseteq K_i^\prime \subseteq U_i,
		\end{equation*}
		where $\im H_n\left(U_i \cap Y \to M\right)$ is finite. 
		We can construct such compact neighborhoods using $(\ast)$ as follows:
		
		Consider for each $p \in K_i$ a compact neighborhood $K^\prime_i(p) \subseteq U_i$ and let $K_i^\dprime(p) \subseteq \interior K_i^\prime(p)$ be another compact neighborhood of $p$. The collection of open sets $\interior K_i^\dprime(p)$ covers the compact $K_i$. Let $\{p_i^{1}, \dots, p^{n}_i\} \subseteq K_i$ be such that $K_i \subseteq \bigcup_{j=1}^n \interior K^\dprime_i(p^j_i)$. Define $K_i^\dag = \bigcup_{j=1}^n K^\dag_i(p^j_i)$ for $i \in \{1,2\}$ and $\dag \in \{\prime, \dprime\}$.
		
		Furthermore, we have $K^\dprime_1 \cap K^\dprime_2 \cap Y \subseteq \interior_Y(K_1^\prime \cap K_2^\prime \cap Y)$. To see this consider $p \in K^\dprime_1 \cap K^\dprime_2 \cap Y$. By construction for $i \in \{1, 2\}$ there exist open sets $V_i \subseteq K_i^\prime$ such that $p \in V_i$. Letting $V = V_1 \cap V_2$ we have $p \in V \cap Y \subseteq K^\dprime_1 \cap K^\dprime_2 \cap Y$ implying $p \in \interior_Y(K^\dprime_1 \cap K^\dprime_2 \cap Y)$.
		
		\begin{equation*}
		\begin{tikzcd}
		& H_n(M) & \arrow[l] H_n(M) \oplus H_n(M) \\
		H_{n-1}(K_1^\prime \cap K_2^\prime \cap Y) & 
		H_{n}((K_1^\prime \cap Y) \cup (K_2^\prime \cap Y)) \arrow[l] \arrow[u] &
		H_{n}(K_1^\prime \cap Y) \oplus H_n(K_2^\prime \cap Y) \arrow[l] \arrow[u] \\
		H_{n-1}(K_1^\dprime \cap K_2^\dprime \cap Y) \arrow[u] & 
		H_{n}((K_1^\dprime \cap Y) \cup (K_2^\dprime \cap Y)) \arrow[l] \arrow[u]. &
		\end{tikzcd}
		\end{equation*}
		
		The upper right square has finite image because $\im H_n\left(K^\prime_i \cap Y \to M\right)$ is finite for each $i \in \{1, 2\}$. The bottom left square has a finite image using property $(r^{n-1})$. From standard homological algebra (cite Bredon 	Lemma 17.3) using that the middle row is exact, part of the Mayer-Vietoris sequence for the space $(K_1^\prime \cap Y) \cup (K_2^\prime \cap Y) \subseteq Y$, we conclude that $K = K_1 \cup K_2 \in \sigma$ with open neighborhood $U_K = \interior K^\dprime_1 \cup \interior K^\dprime_2$.
		
		Let $K$ be a compact set such that $\widetilde K = K \cap Y \subset \interior_Y(M \cap Y)$.
		Consider a finite subset $\{C_1, \dots, C_m\}$ of $\sigma$ such that $Y = \bigcup_{i=1}^m C_i \cap Y$. This set can be constructed using that $Y$ is compact and that any $y \in Y$ has a neighborhood in $\sigma$. Denoting $C = \bigcup_{i=1}^m C_i$ and $D = X \setminus \interior(C)$ we have $K = (K \cap C) \cup (K \cap D)$ which imply $K \in \sigma$ since $D \cap Y = \emptyset$ so $K \cap D \in \sigma$ trivially.
	\end{proof}
	
	We can now immediately prove the following result.
	
	\begin{theorem}
		Let $Y \subseteq X$ be a pair of compact Hausdorff spaces such that for any $p \in Y$ and any open neighborhood $V$ of $p$ in $X$ there exists an open neighborhood $U \subset V$ of $p$ such that $\im \big(\widetilde H_\bullet(U \cap Y) \to \widetilde H_\bullet(V)\big) = 0$. Then, $\im \big(H_d(Y) \to H_d(X)\big)$ is finitely generated for every $d$.
	\end{theorem}

	\begin{proof}
		Using the notation of Lemma \ref{l: wilder}, this would follow from $(r_n)$ applied to the case $K = Y$ and $M = X$. To show $(r_n)$ holds for every $n \geq 0$ we proceed by induction noticing that by assumption we have $(r^n_\bullet)$ for every $n$. 
	\end{proof}
\end{document}

\begin{lemma}
	Let $Y \subseteq X$ be a pair of compact Hausdorff spaces, then $(r^0)$ above holds. 
\end{lemma}

\begin{proof}
	Let $K$ and $M$ be compact subsets of $X$ with $\widetilde K = K \cap Y \subset \interior M$. For every $y \in \widetilde K$, considering the open neighborhood $\interior M$, let $U_y$ be the open set such that $\im r_{U_y \cap Y, M}$ is finite. Cover $\widetilde K$ with a finite number of such open sets $\{v_1, \dots v_n\}$. Since
	\begin{equation*}
	\begin{tikzcd}
	\bigoplus_i^n H_0(\widetilde{U_i}) \arrow[r] \arrow[d, "0"] & H_0(\widetilde{K}) \arrow[d] \arrow[r] & 0 \\
	\bigoplus_i^n H_0(M) \arrow[r] & H_0(M) &
	\end{tikzcd}
	\end{equation*}
	commutes, we have the desired conclusion.
	(Verify the universal coefficients theorem here recalling that $H_0$ is always free.)
\end{proof}

\paragraph{NOT \textit{Counterexample}} Let $Z = \left\{\left(0, 2^{-n}\right)\ |\ n \geq 0\right\} \cup \{(0, 0)\} \subset \R^2$. Let $X$ be a model of the suspension of $Z$ embedded in $\R^2$. The space $X$ is path-connected, Hausdorff, compact, and with infinite first homology. Furthermore, locally $H_1 = 0$. Taking $Y = X$ gives a counterexample.

\begin{equation*}
\begin{tikzpicture}[scale=5]
\foreach \i in {0,1,2,...,12}{
	\draw[line width=0.05mm] (-1,1) .. controls (0,1/2^\i) .. (1,1);
}
\end{tikzpicture}
\end{equation*}

A diagram to keep in mind
\begin{equation}
\begin{tikzcd}
\Z^{\infty} \arrow[r, "0"] & \Z^{\infty} \arrow[r, "1"] & \Z^{\infty} \arrow[r, "0"] & \Z^{\infty} \arrow[r, "1"] & \Z^{\infty} \\
\Z^{\infty} \arrow[r, "1"] \arrow[u, "0"] & \Z^{\infty} \arrow[r, "0"] \arrow[u, "0"] & \Z^{\infty} \arrow[r, "1"] \arrow[u, "1"] & \Z^{\infty} \arrow[r, "0"] \arrow[u, "0"] & \Z^{\infty} \arrow[u, "0"]
\end{tikzcd}
\end{equation}

Consider the following general diagram
\begin{equation}
\begin{tikzcd}
A_1 \arrow[r, "s_1"] & A_2 \arrow[r, "s_2"] & B \arrow[r, "t_1"] & C_1 \arrow[r, "t_2"] & C_2 \\
X_1 \arrow[r, "g_1"] \arrow[u, "0"] & X_2 \arrow[r, "g_2"] \arrow[u, "0"] & Y \arrow[r, "h_1"] \arrow[u, "f"] & Z_1 \arrow[r, "h_2"] \arrow[u, "0"] & Z_2 \arrow[u, "0"]
\end{tikzcd}
\end{equation}
